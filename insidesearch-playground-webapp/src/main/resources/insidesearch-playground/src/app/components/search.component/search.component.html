<md-toolbar class="pg-toolbar">
    <search-box [(searchModel)]="searchModel" (results)="updateResults($event)" (loading)="loading=$event"></search-box>     
</md-toolbar>
    <md-content class="md-padding" layout-xs="column" layout="row">
        <div flex-gt-sm="40" flex>
            <md-card flex>
                <md-card-title>
                    <md-card-title-text>
                        <span class="md-headline">Instillinger for s√∏k</span>
                    </md-card-title-text>
                </md-card-title>
                <md-card-content>
                    <div layout="column" layout-gt-md="row" layout-align="space-between center" class="pg-row">
                        <md-input-container md-theme="md-block">
                            <md-switch class="md-primary" md-no-ink aria-label="Digital" [(checked)]="searchModel.digital">
                                Digital
                            </md-switch>
                        </md-input-container>
                        <md-input-container md-theme="md-block">
                            <md-switch class="md-primary" md-no-ink aria-label="Fritekst" [(checked)]="searchModel.freetext">
                                Fritekst
                            </md-switch>
                        </md-input-container>
                        <md-input-container md-theme="md-block">
                            <md-switch class="md-primary" md-no-ink aria-label="Grupper" [(checked)]="searchModel.group">
                                Grupper
                            </md-switch>
                        </md-input-container>
                    </div>
                    <div layout="column" layout-gt-md="row" layout-align="space-between center" class="pg-row">
                        <md-input-container md-theme="md-block" flex="30">
                            Mediatype
                        </md-input-container>
                        <md-input-container md-theme="md-block" flex>
                            <select [(ngModel)]="searchModel.mediatype" class="pg-mediatypes">
                                <option *ngFor="#mediatype of mediatypes" [value]="mediatype.value">
                                    {{mediatype.label}}
                                </option>
                            </select>
                        </md-input-container>
                    </div>
                    <div layout="column" layout-gt-md="row" layout-align="space-between center" class="pg-row" *ngFor="#boostField of searchModel.boostFields">
                        <div layout="row" flex="20">
                            <md-input-container md-theme="md-block">
                                {{boostField.label}}
                            </md-input-container>
                        </div>
                        <div layout="row" flex="80">
                            <md-input-container md-theme="md-block" flex="auto">
                                <input class="mdl-slider mdl-js-slider"
                                    [(value)]="boostField.value"
                                    [(ngModel)]="boostField.value"
                                    type="range" min="0" max="15">
                            </md-input-container>
                            <md-input-container md-theme="md-block" flex="10">
                                <input md-input 
                                    [(value)]="boostField.value"
                                    [(ngModel)]="boostField.value"
                                    min=0
                                    max=15 size="2"
                                    type="number">
                            </md-input-container>
                        </div>
                    </div>
                </md-card-content>
            </md-card>
        </div>
        <div flex-gt-sm="60" flex>
            <md-card>
                <md-card-title>
                    <md-card-title-text>
                        <div layout="row" layout-align="space-between center">
                            <div class="md-headline">
                                Resultater
                            </div>
                            <div *ngIf="results">
                                Antall treff {{results.totalElements}}
                            </div>
                            <div>
                               <button 
                                    md-fab class="md-mini md-primary" 
                                    aria-label="Bruk som sammenligning"
                                    (click)="toCompareAgainst()">
                                   <i class="material-icons">compare_arrows</i>
                               </button>
                               Vis antall treff: 
                               <select [(ngModel)]="searchModel.size"
                                    [value]="searchModel.size">
                                    <option *ngFor="#size of sizes" [value]="size">
                                        {{size}}
                                    </option>
                                </select>
                            </div>
                        </div>

                        
                    </md-card-title-text>
                </md-card-title>
                <md-card-content>
                    <md-list *ngIf="results">
                        <search-result
                            *ngFor="#item of results.items; #last = last"
                            [result]="item"
                            [last]="last">
                        </search-result>
                    </md-list>
                </md-card-content>
            </md-card>

        </div>
    </md-content>
